### **Order Management API (API управления заказами)**

#### **Описание**
Необходимо разработать REST API с использованием **Node.js** и фронтенд-приложение на любой технологии по вашему выбору (рекомендуется **React**). API должно взаимодействовать с базой данных (**PostgreSQL** или **MongoDB**), поддерживать **транзакции** при создании заказа и реализовывать **ограничение частоты запросов** (rate-limiting).

---

### **Требования к API**

#### **1. Создать 3 сущности в базе данных:**

**Пользователи (users)**
- `id` (UUID / ObjectId)
- `name` (строка, обязательно)
- `email` (строка, уникальная, обязательно)
- `balance` (десятичное число, по умолчанию: 100)

**Товары (products)**
- `id` (UUID / ObjectId)
- `name` (строка, обязательно)
- `price` (десятичное число, обязательно)
- `stock` (целое число, обязательно)

**Заказы (orders)**
- `id` (UUID / ObjectId)
- `userId` (внешний ключ к users, обязательно)
- `productId` (внешний ключ к products, обязательно)
- `quantity` (целое число, обязательно)
- `totalPrice` (десятичное число, рассчитывается автоматически)
- `createdAt` (временная метка, по умолчанию: текущее время)

---

#### **2. Реализовать API-эндпоинты:**

**POST /orders** — Создание заказа  
- Проверить, достаточно ли средств у пользователя  
- Проверить, есть ли товар в наличии  
- Выполнить транзакцию: списать баланс у пользователя, уменьшить количество товара на складе, создать заказ

**GET /orders/:userId** — Получить заказы пользователя  

---

#### **3. Дополнительные требования:**

- **Транзакции**: создание заказа должно выполняться в рамках транзакции  
- **Ограничение частоты запросов**: максимум **10 запросов в минуту на пользователя**  
- **Обработка ошибок**: корректные коды HTTP (400, 403, 404, 429) и понятные сообщения  
- **Логирование API**, включая ошибки  

---

### **Требования к фронтенду**

Можно использовать любую технологию, но рекомендуется **React**.

#### **1. Форма создания заказа:**
- Поля: userId, productId, quantity  
- Кнопка "Создать заказ"  
- Отображение ошибок API (недостаточно средств, товара нет в наличии, превышен лимит запросов)

#### **2. Таблица заказов пользователя:**
- Отображение всех заказов текущего пользователя  
- Обновление списка после успешного заказа  

---

### **Требования к тестированию**

Решение должно включать **автоматические тесты**, покрывающие следующее:

- **Юнит-тесты**: проверка бизнес-логики (например, проверка баланса, валидация склада, расчет общей стоимости)  
- **API-тесты**: проверка корректной работы эндпоинтов и обработки ошибок (`POST /orders`, `GET /orders/:userId`)  
- **Тесты транзакций**: убедиться, что частичное выполнение заказа невозможно (например, если списание баланса не удалось — склад не изменяется)  
- **Тесты ограничения частоты**: убедиться, что после превышения лимита пользователь получает ошибку 429  
- **Фронтенд-тесты (необязательно)**: базовая валидация формы и логика обработки заказов (если используется React)  

---

### **Требования к деплойменту**

Решение должно включать:

- **Docker-настройку**: `Dockerfile` и `docker-compose` для запуска бэкенда, фронтенда и базы данных  
- **README.md**: понятные инструкции по установке, запуску и тестированию приложения (бэкенд и фронтенд)